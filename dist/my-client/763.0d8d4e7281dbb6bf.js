"use strict";(self.webpackChunkMyClient=self.webpackChunkMyClient||[]).push([[763],{8763:(D,S,s)=>{s.r(S),s.d(S,{AuthModule:()=>B});var p=s(6814),C=s(5983),a=s(6223),M=s(6379),l=s(5692),r=s(5879),b=s(2651);let F=(()=>{var t;class n{}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:3,vars:0,consts:[["fullscreen",""],[1,"paper"]],template:function(e,o){1&e&&(r.TgZ(0,"mat-sidenav-container",0)(1,"div",1),r._UZ(2,"router-outlet"),r.qZA()())},dependencies:[l.lC,b.TM],styles:[".paper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:inherit}"]}),n})();class Z{isErrorState(n,i){return!!(n&&n.invalid&&(n.dirty||n.touched||i&&i.submitted))}}var _=s(8297),U=s(4432),A=s(2548),T=s(2296),c=s(5195),d=s(9157),h=s(6385),y=s(4516),I=s(6687),g=s(4104);const q=function(){return{exact:!0}};function J(t,n){if(1&t&&(r.TgZ(0,"a",3,4),r._uU(2),r.qZA()),2&t){const i=n.$implicit,e=r.MAs(1);r.Q6J("active",e.isActive)("routerLinkActiveOptions",r.DdM(4,q))("routerLink",i.route),r.xp6(2),r.hij(" ",i.title," ")}}let w=(()=>{var t;class n{constructor(){this.options=[{route:"/auth/signIn",title:"Sign in"},{route:"/auth/signUp",title:"Sign up"}]}}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["auth-nav"]],decls:6,vars:2,consts:[["mat-tab-nav-bar","",3,"tabPanel"],["mat-tab-link","","routerLinkActive","","mat-tab-link","",3,"active","routerLinkActiveOptions","routerLink",4,"ngFor","ngForOf"],["tabPanel",""],["mat-tab-link","","routerLinkActive","","mat-tab-link","",3,"active","routerLinkActiveOptions","routerLink"],["rla","routerLinkActive"]],template:function(e,o){if(1&e&&(r.TgZ(0,"mat-card-header")(1,"nav",0),r.YNc(2,J,3,5,"a",1),r.qZA(),r._UZ(3,"mat-tab-nav-panel",null,2),r.qZA(),r._UZ(5,"mat-divider")),2&e){const m=r.MAs(4);r.xp6(1),r.Q6J("tabPanel",m),r.xp6(1),r.Q6J("ngForOf",o.options)}},dependencies:[l.rH,l.Od,p.sg,c.dk,h.d,g.BU,g.sW,g.Nj],styles:["nav[_ngcontent-%COMP%]{width:100%;display:flex}nav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}"]}),n})();function N(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Mail is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function E(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}let P=(()=>{var t;class n{constructor(e,o,m,f,v){this._authService=e,this._responseService=o,this._loadingService=m,this._router=f,this._fb=v,this.cardHeaderInformation={icon:"person",title:"Sign In",description:"Enter your email and password"},this.myForm=this._fb.group({mail:["",[a.kI.required]],password:["",[a.kI.required]]}),this.matcher=new Z,this.errorManagement=u=>{this._loadingService.loadingHide(),this._responseService.credentialsError()}}get user(){return{mail:this.myForm.controls.mail.value,password:this.myForm.controls.password.value}}hasError(e,o){return this.myForm.controls[e].hasError(o)}forgotPassword(){this._responseService.showEnterEmailForm().then(e=>{e&&(this._loadingService.loadingShow(),this._authService.newPassword(e).subscribe(()=>{this._loadingService.loadingHide(),this._responseService.showMessage("Password update","Go check your email to see it","success")},this.errorManagement))})}onSubmit(){this.myForm.markAllAsTouched(),this.myForm.valid&&this.signIn(this.user)}signIn(e){this._loadingService.loadingShow(),this._authService.getToken(e).subscribe(o=>{this._loadingService.loadingHide(),localStorage.setItem("token",o),this._router.navigate(["/"])},this.errorManagement)}}return(t=n).\u0275fac=function(e){return new(e||t)(r.Y36(_.e),r.Y36(U.e),r.Y36(A.b),r.Y36(l.F0),r.Y36(a.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["auth-sign-in"]],decls:22,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"card"],[3,"information"],[1,"w-100"],["type","email","matInput","","formControlName","mail","placeholder","yourname@example.com",3,"errorStateMatcher"],[4,"ngIf"],["type","password","matInput","","formControlName","password",3,"errorStateMatcher"],[1,"row"],[1,"interactuable",3,"click"],[1,"spacer"],["mat-button",""]],template:function(e,o){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return o.onSubmit()}),r.TgZ(1,"mat-card",1),r._UZ(2,"auth-nav")(3,"card-header",2),r.TgZ(4,"mat-card-content")(5,"mat-form-field",3)(6,"mat-label"),r._uU(7,"Email"),r.qZA(),r._UZ(8,"input",4),r.YNc(9,N,4,0,"mat-error",5),r.qZA(),r.TgZ(10,"mat-form-field",3)(11,"mat-label"),r._uU(12,"Password"),r.qZA(),r._UZ(13,"input",6),r.YNc(14,E,4,0,"mat-error",5),r.qZA()(),r._UZ(15,"mat-divider"),r.TgZ(16,"mat-card-actions",7)(17,"span",8),r.NdJ("click",function(){return o.forgotPassword()}),r._uU(18,"FORGOT PASSWORD"),r.qZA(),r._UZ(19,"span",9),r.TgZ(20,"button",10),r._uU(21," SIGN IN "),r.qZA()()()()),2&e&&(r.Q6J("formGroup",o.myForm),r.xp6(3),r.Q6J("information",o.cardHeaderInformation),r.xp6(5),r.Q6J("errorStateMatcher",o.matcher),r.xp6(1),r.Q6J("ngIf",o.hasError("mail","required")),r.xp6(4),r.Q6J("errorStateMatcher",o.matcher),r.xp6(1),r.Q6J("ngIf",o.hasError("password","required")))},dependencies:[p.O5,T.lW,c.a8,c.hq,c.dn,d.KE,d.hX,d.TO,h.d,y.Nt,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,I.n,w],encapsulation:2}),n})();var Y=s(2177),k=s(5986);function Q(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Mail already used "),r.qZA())}function O(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Please enter a valid mail address "),r.qZA())}function x(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Mail is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function L(t,n){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Min "),r.TgZ(2,"strong"),r._uU(3),r.qZA(),r._uU(4," characters long "),r.qZA()),2&t){const i=r.oxw();r.xp6(3),r.Oqu(i.myForm.controls.password.errors.minlength.requiredLength)}}function H(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function G(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Password do not "),r.TgZ(2,"strong"),r._uU(3,"match"),r.qZA()())}function j(t,n){1&t&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}const X=[{path:"",component:F,children:[{path:"signIn",component:P},{path:"signUp",component:(()=>{var t;class n{constructor(e,o,m,f,v){this._authService=e,this._responseService=o,this._loadingService=m,this._fb=f,this._router=v,this.cardHeaderInformation={icon:"person",title:"Sign Up",description:"Fill with your information"},this.matcher=new Z,this.checkPasswords=u=>(u.get("password").value!==u.get("passwordrepeated").value?u.get("passwordrepeated")?.setErrors({notSame:!0}):u.get("passwordrepeated")?.setErrors(null),null),this.errorManagement=u=>{this._loadingService.loadingHide(),this._responseService.showResponse(u)},this.myForm=this._fb.group({mail:["",[a.kI.required,a.kI.email],[Y.Z.exists(this._authService)]],password:["",[a.kI.required,a.kI.minLength(6)]],passwordrepeated:["",[a.kI.required,a.kI.minLength(6)]],notifications:[!1]},{validators:this.checkPasswords})}get user(){return{mail:this.myForm.controls.mail.value,password:this.myForm.controls.password.value,notifications:this.myForm.controls.notifications.value}}hasError(e,o){return this.myForm.controls[e].hasError(o)}onSubmit(){this.myForm.markAllAsTouched(),this.myForm.valid&&this.verify(this.user)}verify(e){this._loadingService.loadingShow(),this._authService.verify(e).subscribe(o=>{this._loadingService.loadingHide(),this._responseService.showVerficationCodeForm(o.code).then(m=>{m&&this.signUp(e)})},this.errorManagement)}signUp(e){this._loadingService.loadingShow(),this._authService.singUp(e).subscribe(o=>{this._authService.getToken(e).subscribe(m=>{this._loadingService.loadingHide(),localStorage.setItem("token",m),this._router.navigate(["/"])},this.errorManagement)},this.errorManagement)}}return(t=n).\u0275fac=function(e){return new(e||t)(r.Y36(_.e),r.Y36(U.e),r.Y36(A.b),r.Y36(a.qu),r.Y36(l.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["auth-sign-up"]],decls:32,vars:12,consts:[[3,"formGroup","ngSubmit"],[1,"card"],[3,"information"],[1,"w-100"],["type","email","matInput","","formControlName","mail","placeholder","yourname@example.com",3,"errorStateMatcher"],[4,"ngIf"],["type","password","matInput","","formControlName","password",3,"errorStateMatcher"],["type","password","matInput","","formControlName","passwordrepeated",3,"errorStateMatcher"],[1,"row"],["formControlName","notifications"],[1,"spacer"],["mat-button",""]],template:function(e,o){1&e&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return o.onSubmit()}),r.TgZ(1,"mat-card",1),r._UZ(2,"auth-nav")(3,"card-header",2),r.TgZ(4,"mat-card-content")(5,"mat-form-field",3)(6,"mat-label"),r._uU(7,"Email"),r.qZA(),r._UZ(8,"input",4),r.YNc(9,Q,2,0,"mat-error",5),r.YNc(10,O,2,0,"mat-error",5),r.YNc(11,x,4,0,"mat-error",5),r.qZA(),r.TgZ(12,"mat-form-field",3)(13,"mat-label"),r._uU(14,"Password"),r.qZA(),r._UZ(15,"input",6),r.YNc(16,L,5,1,"mat-error",5),r.YNc(17,H,4,0,"mat-error",5),r.qZA(),r.TgZ(18,"mat-form-field",3)(19,"mat-label"),r._uU(20,"Confirm password"),r.qZA(),r._UZ(21,"input",7),r.YNc(22,G,4,0,"mat-error",5),r.YNc(23,j,4,0,"mat-error",5),r.qZA()(),r._UZ(24,"mat-divider"),r.TgZ(25,"mat-card-actions",8),r._UZ(26,"mat-checkbox",9),r.TgZ(27,"span"),r._uU(28,"NOTIFICATIONS"),r.qZA(),r._UZ(29,"span",10),r.TgZ(30,"button",11),r._uU(31," SIGN UP "),r.qZA()()()()),2&e&&(r.Q6J("formGroup",o.myForm),r.xp6(3),r.Q6J("information",o.cardHeaderInformation),r.xp6(5),r.Q6J("errorStateMatcher",o.matcher),r.xp6(1),r.Q6J("ngIf",o.myForm.controls.mail.hasError("mailAlreadyExists")),r.xp6(1),r.Q6J("ngIf",o.hasError("mail","email")&&!o.hasError("mail","required")),r.xp6(1),r.Q6J("ngIf",o.hasError("mail","required")),r.xp6(4),r.Q6J("errorStateMatcher",o.matcher),r.xp6(1),r.Q6J("ngIf",o.hasError("password","minlength")&&!o.hasError("password","required")),r.xp6(1),r.Q6J("ngIf",o.hasError("password","required")),r.xp6(4),r.Q6J("errorStateMatcher",o.matcher),r.xp6(1),r.Q6J("ngIf",o.hasError("passwordrepeated","notSame")&&!o.hasError("passwordrepeated","required")),r.xp6(1),r.Q6J("ngIf",o.hasError("passwordrepeated","required")))},dependencies:[p.O5,T.lW,c.a8,c.hq,c.dn,k.oG,d.KE,d.hX,d.TO,h.d,y.Nt,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,I.n,w],encapsulation:2}),n})()},{path:"**",redirectTo:"signIn"}]}];let R=(()=>{var t;class n{}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[l.Bz.forChild(X),l.Bz]}),n})(),B=(()=>{var t;class n{}return(t=n).\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[R,p.ez,C.q,a.UX,M.m]}),n})()}}]);